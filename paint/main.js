!function(e){var t={};function s(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(o,i,function(t){return e[t]}.bind(null,i));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=6)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={x:0,y:0,events:{mouseover:!1,mouseout:!1,mousedown:!1,mousemove:!1,mouseButton:0},previousEvents:{mouseover:!1,mouseout:!1,mousedown:!1,mousemove:!1,mouseButton:0}};t.Mouse=o,t.MouseEvents=function(e){function t(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}e.addEventListener("mouseover",function(e){o.events.mouseover=!0,o.x=Math.floor(e.clientX-t(this).left),o.y=Math.floor(e.clientY-t(this).top)}),e.addEventListener("mouseout",function(){o.events.mousemove=!1,o.events.mouseover=!1,o.events.mousedown=!1,o.events.mouseout=!0,o.events.mouseButton=0,o.x=0,o.y=0}),e.addEventListener("mousemove",function(e){return o.events.mousemove=!0,o.x=Math.floor(e.clientX-t(this).left),o.y=Math.floor(e.clientY-t(this).top),!1}),e.addEventListener("mousedown",function(e){return o.events.mousedown=!0,o.events.mouseup=!1,o.events.mouseButton=e.which,!1}),e.addEventListener("mouseup",function(){return o.events.mousedown=!1,o.events.mouseup=!0,o.events.mouseButton=0,!1}),e.addEventListener("contextmenu",function(e){e.preventDefault()})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,s,o){return s&&e(t.prototype,s),o&&e(t,o),t}}(),i=s(0);var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=void 0!==t&&void 0!==t.offset?t.offset:{x:341,y:63},this.loaded=!1,this.cCache=null,this.cCanvas=document.createElement("canvas"),this.cCanvas.width=43,this.cCanvas.height=222,this.cContext=this.cCanvas.getContext("2d"),this.palette=["#000000","#FFFFFF","#9D9D9D","#BE2633","#E06F8B","#493C2B","#A46422","#EB8931","#F7E26B","#2F484E","#44891A","#A3CE27","#1B2632","#005784","#31A2F2","#B2DCEF"],this.currentColour="#000000",this.hasFocus=!1,this.paletteMousePositions=[],this.setUpMousePositions()}return o(e,[{key:"setUpMousePositions",value:function(){this.paletteMousePositions=[];for(var e=1,t=1,s=0;s<=this.palette.length-1;s+=1){var o={x1:0,x2:0,y1:0,y2:0,color:this.palette[s]};o.x1=e,o.y1=t,o.x2=o.x1+20,o.y2=o.y1+20,e+=21,s%2==1&&(t+=21,e=1),this.paletteMousePositions[s]=o}this.loaded=!0}},{key:"update",value:function(e,t){if(!1!==this.loaded&&(i.Mouse.x>=this.offset.x&&i.Mouse.x<=this.offset.x+43&&i.Mouse.y>=this.offset.y&&i.Mouse.y<=this.offset.y+222?this.hasFocus=!0:(this.hasFocus=!1,t.style.cursor="auto"),!0===this.hasFocus))if(i.Mouse.x>=this.offset.x+1&&i.Mouse.x<=this.offset.x+43&&i.Mouse.y>=this.offset.y+1&&i.Mouse.y<=this.offset.y+168){if(t.style.cursor="pointer",!0===i.Mouse.events.mousedown)for(var s=0;s<=this.paletteMousePositions.length-1;s+=1)i.Mouse.x>=this.offset.x+this.paletteMousePositions[s].x1&&i.Mouse.x<=this.offset.x+this.paletteMousePositions[s].x2&&i.Mouse.y>=this.offset.y+this.paletteMousePositions[s].y1&&i.Mouse.y<=this.offset.y+this.paletteMousePositions[s].y2&&this.currentColour!==this.paletteMousePositions[s].color&&(this.currentColour=this.paletteMousePositions[s].color)}else t.style.cursor="auto"}},{key:"render",value:function(e,t,s){if(!1!==this.loaded){this.cContext.clearRect(0,0,42,170),this.cContext.fillStyle="#000000",this.cContext.fillRect(0,0,43,169),this.cContext.fillStyle="#000000",this.cContext.fillRect(0,179,43,43);for(var o=1,i=1,n=0;n<=this.palette.length-1;n+=1)this.cContext.fillStyle=this.palette[n],this.cContext.fillRect(o,i,20,20),o+=21,n%2==1&&(i+=21,o=1);this.cContext.fillStyle=this.currentColour,this.cContext.fillRect(1,180,41,41),s.putImageData(this.cContext.getImageData(0,0,43,222),this.offset.x,this.offset.y)}}},{key:"getCurrentColour",value:function(){return this.currentColour}}]),e}();t.default=n},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,s,o){return s&&e(t.prototype,s),o&&e(t,o),t}}();var i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.xPixels=void 0!==t&&void 0!==t.xPixels?t.xPixels:16,this.yPixels=void 0!==t&&void 0!==t.yPixels?t.yPixels:16,this.offset=void 0!==t&&void 0!==t.offset?t.offset:{x:341,y:295},this.loaded=!1,this.cCache=null,this.cCanvas=document.createElement("canvas"),this.cCanvas.width=43,this.cCanvas.height=36,this.cContext=this.cCanvas.getContext("2d"),void 0===t||void 0===t.iCanvas)throw new Error("Preview requires iCanvas be passed to it.");this.iCanvas=t.iCanvas}return o(e,[{key:"render",value:function(e,t,s){this.loaded&&s.putImageData(this.cCache,this.offset.x,this.offset.y)}},{key:"update",value:function(){this.cContext.clearRect(0,0,43,36),this.cContext.font="10px Arial",this.cContext.fillStyle="#000000",this.cContext.fillText("Preview",3.5,10),this.cContext.fillRect(13,15,18,18),this.cContext.fillStyle="#FFFFFF",this.cContext.fillRect(14,16,16,16);for(var e=this.iCanvas.get("pixels"),t=1;t<=this.yPixels;t+=1)for(var s=1;s<=this.xPixels;s+=1){var o=e.getPixel(s,t);!0===o.on&&(this.cContext.fillStyle=o.colour,this.cContext.fillRect(14+s-1,16+t-1,1,1))}this.cCache=this.cContext.getImageData(0,0,43,36),this.loaded=!0}}]),e}();t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,s,o){return s&&e(t.prototype,s),o&&e(t,o),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pixels=[],this.xPixels=void 0!==t&&void 0!==t.xPixels?t.xPixels:16,this.yPixels=void 0!==t&&void 0!==t.yPixels?t.yPixels:16,this.pixelH=void 0!==t&&void 0!==t.pixelH?t.pixelH:20,this.pixelW=void 0!==t&&void 0!==t.pixelW?t.pixelW:20,this.reset()}return o(e,[{key:"reset",value:function(){for(var e=1;e<=this.yPixels;e+=1)for(var t=1;t<=this.xPixels;t+=1)this.setPixel(t,e,{mouseOver:!1,colour:"#000000",on:!1,x:(t-1)*this.pixelW,y:(e-1)*this.pixelH,h:this.pixelH-1,w:this.pixelW-1})}},{key:"setPixel",value:function(e,t,s){this.pixels[this.xPixels*e+t]=s}},{key:"getPixel",value:function(e,t){return this.pixels[this.xPixels*e+t]}},{key:"getPixels",value:function(){return this.pixels}},{key:"setPixels",value:function(e){this.pixels=e}}]),e}();t.default=i},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=function(){function e(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,s,o){return s&&e(t.prototype,s),o&&e(t,o),t}}(),n=s(0),u=s(3),r=(o=u)&&o.__esModule?o:{default:o};var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.xPixels=void 0!==t&&void 0!==t.xPixels?t.xPixels:16,this.yPixels=void 0!==t&&void 0!==t.yPixels?t.yPixels:16,this.pixelH=void 0!==t&&void 0!==t.pixelH?t.pixelH:20,this.pixelW=void 0!==t&&void 0!==t.pixelW?t.pixelW:20,this.offset=void 0!==t&&void 0!==t.offset?t.offset:{x:10,y:10},this.pixels=new r.default({xPixels:this.xPixels,yPixels:this.yPixels,pixelW:this.pixelW,pixelH:this.pixelH}),this.cWidth=this.xPixels*this.pixelW,this.cHeight=this.yPixels*this.pixelH,this.hasFocus=!1,this.cCanvas=document.createElement("canvas"),this.cCanvas.width=this.cWidth,this.cCanvas.height=this.cHeight,this.cContext=this.cCanvas.getContext("2d"),this.cContext.fillStyle="#999999",this.cContext.fillRect(0,0,this.cWidth,this.cHeight),this.cContext.fillStyle="#FFFFFF",this.cContext.fillRect(1,1,this.cWidth-2,this.cHeight-2),this.cContext.beginPath(),this.cContext.strokeStyle="#DDDDDD",this.cContext.lineWidth="1";for(var s=20;s<=this.cHeight;s+=this.pixelH)this.cContext.moveTo(.5+s,1),this.cContext.lineTo(.5+s,this.cHeight-1);for(var o=20;o<=this.cWidth;o+=this.pixelW)this.cContext.moveTo(1,.5+o),this.cContext.lineTo(this.cWidth-1,.5+o);if(this.cContext.stroke(),this.cGrid=this.cContext.getImageData(0,0,this.cWidth,this.cHeight),void 0===t||void 0===t.iPalette)throw new Error("ImageCanvas requires iPalette be passed to it.");this.iPalette=t.iPalette}return i(e,[{key:"get",value:function(e){if(this.hasOwnProperty(e))return this[e]}},{key:"load",value:function(e){}},{key:"save",value:function(){var e=document.createElement("canvas");e.width=16,e.height=16;for(var t=e.getContext("2d"),s=1;s<=16;s+=1)for(var o=1;o<=16;o+=1){var i=this.pixels.getPixel(o,s);!0===i.on&&(t.fillStyle=i.colour,t.fillRect(o-1,s-1,1,1))}var n=document.createElement("a");n.download="image.png",n.href=e.toDataURL("image/png"),n.click()}},{key:"update",value:function(){if(n.Mouse.x>0&&n.Mouse.y>0&&n.Mouse.x>=0&&n.Mouse.x<=this.cWidth&&n.Mouse.y>=0&&n.Mouse.y<=this.cHeight?this.hasFocus=!0:this.hasFocus=!1,!0===this.hasFocus)for(var e=1;e<=this.yPixels;e+=1)for(var t=1;t<=this.xPixels;t+=1){var s=this.pixels.getPixel(t,e);s.mouseOver=!1,n.Mouse.x>=this.offset.x+s.x&&n.Mouse.x<=this.offset.x+s.x+s.w&&n.Mouse.y>=this.offset.y+s.y&&n.Mouse.y<=this.offset.y+s.y+s.h&&(s.mouseOver=!0,!0===n.Mouse.events.mousedown&&(1===n.Mouse.events.mouseButton?(s.on=!0,s.colour=this.iPalette.getCurrentColour()):(s.on=!1,s.colour="#FFFFFF"))),this.pixels.setPixel(t,e,s)}}},{key:"render",value:function(e,t,s){s.putImageData(this.cGrid,this.offset.x,this.offset.y);for(var o=1;o<=this.yPixels;o+=1)for(var i=1;i<=this.xPixels;i+=1){var n=this.pixels.getPixel(i,o);!0===n.on&&(s.fillStyle=n.colour,s.fillRect(this.offset.x+n.x+1,this.offset.y+n.y+1,this.pixelW-1,this.pixelH-1)),!0===n.mouseOver&&(s.fillStyle="rgba(0,0,0,0.2)",s.fillRect(this.offset.x+n.x+1,this.offset.y+n.y+1,this.pixelW-1,this.pixelH-1))}}}]),e}();t.default=l},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(0);t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,o.MouseEvents)(t.canvas);var s=void 0,i=0,n=v(),u=t.slow||1,r=1/t.fps,l=u*r,a=t.update,c=t.render,f=t.canvas,h=t.canvas.getContext("2d");function v(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}requestAnimationFrame(function e(){for(s=v(),i+=Math.min(1,(s-n)/1e3);i>l;)i-=l,a(r,f,h);c(i/u,f,h),n=s,requestAnimationFrame(e,f)})}},function(e,t,s){"use strict";var o=s(0),i=l(s(5)),n=l(s(4)),u=l(s(2)),r=l(s(1));function l(e){return e&&e.__esModule?e:{default:e}}!function(e,t,s){var l=new r.default,a=new n.default({iPalette:l}),c=new u.default({iCanvas:a}),f=t.getElementById("paintMe");t.getElementById("saveBtn").addEventListener("click",function(){a.save()}),new i.default({canvas:f,fps:60,update:function(e,t,s){o.Mouse.previousEvents.mouseover!==o.Mouse.events.mouseover&&(o.Mouse.previousEvents.mouseover=o.Mouse.events.mouseover),o.Mouse.previousEvents.mousemove!==o.Mouse.events.mousemove&&(o.Mouse.previousEvents.mousemove=o.Mouse.events.mousemove),o.Mouse.previousEvents.mouseup!==o.Mouse.events.mouseup&&(o.Mouse.previousEvents.mouseup=o.Mouse.events.mouseup),o.Mouse.previousEvents.mousedown!==o.Mouse.events.mousedown&&(o.Mouse.previousEvents.mousedown=o.Mouse.events.mousedown),o.Mouse.previousEvents.mouseButton!==o.Mouse.events.mouseButton&&(o.Mouse.previousEvents.mouseButton=o.Mouse.events.mouseButton),a.update(e,t,s),c.update(e,t,s),l.update(e,t,s)},render:function(e,t,s){a.render(e,t,s),c.render(e,t,s),l.render(e,t,s)}})}(window,document)}]);
//# sourceMappingURL=main.js.map
